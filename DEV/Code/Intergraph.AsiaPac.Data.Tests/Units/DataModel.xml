<?xml version="1.0" encoding="utf-8" ?>
<DataModel name="UnitDataModel" xmlns="http://schemas.intergraph.com/asiapac/cad/datamodel/1.0.0" xmlns:cad="http://schemas.intergraph.com/asiapac/cad/datamodel/1.0.0">

	<!--
	~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
	Unit Detail
	~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
	-->

	<Object name="UnitDetail" dbTable="CD_UNITS">
		<Property name="UnitId" dbColumn="unid"/>
		<Property name="CarId" dbColumn="carid"/>
		<Property name="MdtUnitId" dbColumn="mdtid"/>
		<Property name="Location" dbColumn="location"/>
		<Property name="AgencyEventId" dbColumn="num_1"/>
		<Property name="CommonEventId" dbColumn="eid"/>
		<Property name="AgencyId" dbColumn="ag_id"/>
		<Property name="DispatchGroup" dbColumn="dgroup"/>
		<Property name="UnitType" dbColumn="unityp"/>
		<Property name="Status" dbColumn="unit_status"/>
		<Property name="StatusChange" dbColumn="status_dts" stringFormat="CadDts"/>
		<Property name="UnitHistoryComment" dbColumn="uhiscm"/>
		<Metadata>
			<Filters/>
			<Joins/>
		</Metadata>
	</Object>

	<!--
	~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
	Unit Dispatch Assigned Detail
	~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
	-->

	<Object name="UnitDispatchAssignedDetail" dbTable="DISPASS_EVENT">
		<Property name="UnitId" dbColumn="unid"/>
		<Property name="CarId" dbColumn="carid" dbTable="CD_UNITS"/>
		<Property name="MdtUnitId" dbColumn="mdtid" dbTable="CD_UNITS"/>
		<Property name="Location" dbColumn="location" dbTable="CD_UNITS"/>
		<Property name="AgencyEventId" dbColumn="num_1"/>
		<Property name="CommonEventId" dbColumn="eid" dbTable="AEVEN"/>
		<Property name="AgencyId" dbColumn="ag_id" dbTable="CD_UNITS"/>
		<Property name="DispatchGroup" dbColumn="dgroup" dbTable="CD_UNITS"/>
		<Property name="UnitType" dbColumn="unityp" dbTable="CD_UNITS"/>
		<Property name="Status" dbColumn="unit_status"/>
		<Property name="StatusChange" dbColumn="status_dts" dbTable="CD_UNITS" stringFormat="CadDts"/>
		<Property name="UnitHistoryComment" dbColumn="uhiscm" dbTable="CD_UNITS"/>
		<Metadata>
			<Filters>
				<Filter>AEVEN.curent in ('T', 'O')</Filter>
			</Filters>
			<Joins>
				<InnerJoin foreignKey="unid" references="CD_UNITS" referenceKey="unid" />
				<InnerJoin foreignKey="num_1" references="AEVEN" referenceKey="num_1" />
			</Joins>
		</Metadata>
	</Object>

	<!--
	~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
	Unit History
	~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
	-->

	<Object name="UnitHistory" dbTable="UN_HI">
		<Property name="UnitId" dbColumn="unid"/>
		<Property name="CarId" dbColumn="carid"/>
		<Property name="MdtUnitId" dbColumn="mdtid"/>
		<Property name="Location" dbColumn="location"/>
		<Property name="AgencyEventId" dbColumn="num_1"/>
		<Property name="CommonEventId" dbColumn="eid"/>
		<Property name="AgencyId" dbColumn="ag_id"/>
		<Property name="DispatchGroup" dbColumn="dgroup"/>
		<Property name="Status" dbColumn="unit_status"/>
		<Property name="StatusChange" dbColumn="cdts" stringFormat="CadDts"/>
		<Property name="UnitHistoryComment" dbColumn="uhiscm"/>
		<Metadata>
			<Filters/>
			<Joins/>
		</Metadata>
	</Object>

	<!--
	~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
	Unit Agencies
	~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
	-->

	<Object name="Agencies" dbTable="CD_UNITS">
		<Property name="UnitId" dbColumn="unid"/>
		<Property name="AgencyId" dbColumn="ag_id"/>
		<Metadata>
			<Filters/>
			<Joins/>
		</Metadata>
	</Object>

</DataModel>
